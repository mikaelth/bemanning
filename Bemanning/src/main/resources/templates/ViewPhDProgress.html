<html lang="se-SE">
<head>
	<title th:text="#{display.ph.d.positions.title}"> Doktorandernas kontering och aktivitetsgrad </title>
	<meta http-equiv="Content-Type" content="text/html; charset:UTF-8" />
	<link rel="stylesheet" type="text/css" media="screen, print" href="../layout/default-application.css" th:href="@{/layout/default-application.css}"></link>
	<link rel="stylesheet" type="text/css" media="screen, print" href="../layout/default.css" th:href="@{/layout/default.css}"></link>
</head>
<body>
<!-- 
Logged user: <span sec:authentication="name">Bob</span>
 -->
	<div id="container">
		<div id="returnHome" class="action">
			<a href="../index.html" th:href="@{/index.html}" th:text="#{return.home}">Åter till startsidan</a>
		</div>
		<div id="content">
			<div>
				<h1 th:text="#{display.ph.d.positions.title}+', '+${#dates.format(#dates.createNow(),'yyyy-MM-dd')}">Förslag till bemanning, typ</h1>
			</div>

			<br class="clr" />
			<div id="PhDPosition" class="table">
				<div th:each="phdStudent: ${phdStudents}">
					<h4 th:text="${phdStudent.person.name}+', Antagen som doktorand ' + ${#dates.format(phdStudent.start,'yyyy-MM-dd')} " />
					<h5>
						<span th:text="#{view.phdposition.remainingProjectTime}"></span>
						<span th:text="${#numbers.formatDecimal(phdStudent.currentRemainingProjectTime(),1,1)}"></span>
<!-- 
						<span th:text="${phdStudent.currentRemainingProjectTime()}"></span>
-->
						<span th:text="#{view.phdposition.timeUnit}+', '+#{view.phdposition.calcEndDate}"></span>
						<span th:text="${#dates.format(phdStudent.predictedFinishDate(),'yyyy-MM-dd')}"></span>

						<br />
						<span th:text="#{view.phdposition.ISPdate}"></span>
						<span th:text="${#dates.format(ispdate,'yyyy-MM-dd')} + ': '"></span>
						<span th:text="${#numbers.formatDecimal(phdStudent.usedISPDate(ispdate),1,1)}"></span>
						<span th:text="#{view.phdposition.timeUnit}"></span>

						<br />
						(50%: <span th:text="${#dates.format(phdStudent.predictedHalfTime(),'yyyy-MM-dd')}"/>, 75%: <span th:text="${#dates.format(phdStudent.predicted75Percent(),'yyyy-MM-dd'), 80%: <span th:text="${#dates.format(phdStudent.predicted80Percent(),'yyyy-MM-dd')}" />)
					</h5>
					<p />
					<hr align="center" />
					<table>
						<tr>
							<th />
							<th />
							<th colspan="3" th:text="#{view.phdposition.accounting}"></th>
							<th colspan="3" th:text="#{view.phdposition.remainingProjectTime}"></th>
							<th />
						</tr>
						<tr>
							<th th:text="#{view.phdposition.date}">Dept</th>
							<th th:text="#{view.phdposition.activity}">Kurs</th>
							<th th:text="#{view.phdposition.projfraction}">Administration</th>
							<th th:text="#{view.phdposition.gufraction}">Utveckling</th>
							<th th:text="#{view.phdposition.otherfraction}">Föreläsning</th>
							<th th:text="#{view.phdposition.calcremainmonths}">Laboration, Lektion</th>
							<th th:text="#{view.phdposition.reportremainmonths}">Exkursion, Seminarium</th>
							<th th:text="#{view.phdposition.addedmonts}">Presentation, Handledning</th>
							<th th:text="#{view.phdposition.note}">Totalt</th>
						</tr>
						<tr th:each="progress, iterStat: ${phdStudent.progresses}" th:class="${iterStat.odd}? 'odd' : 'even'">
							<td th:text="${#dates.format(progress.date,'yyyy-MM-dd')}">  </td>
							<td th:text="${#numbers.formatInteger(progress.activity*100,1)}+ ' %'" />
							<td th:text="${#numbers.formatInteger(progress.projectFraction*100,1)} + ' %'" />
							<td th:text="${#numbers.formatInteger(progress.guFraction*100,1)}+ ' %'" />
							<div th:with="otherFraction=${1.0-progress.projectFraction-progress.guFraction}">
								<td th:text="${#numbers.formatInteger(otherFraction*100,1)}+ ' %'" />
							</div>
							<td th:text="${#numbers.formatDecimal( progress.calcRemainMonths(),1,1 )}" />
							<td th:text="${progress.remainingMonths}" />
							<td th:text="${progress.addedMonths}" />
							<td th:text="${progress.note}" />
						</tr>
					</table>
					<br />
					<br />
				</div>
			</div>
		</div>
	</div>
</body>
</html>
